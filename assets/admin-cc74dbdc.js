import"./bootstrap.min-d005857b.js";import"./config-b9ecf40d.js";const e=document.querySelector("#adminEmail"),n=document.querySelector("#adminPassword"),o=document.querySelector(".adminLoginBtn");i();function i(){localStorage.getItem("adminToken")&&(window.location.href="admin-products.html")}function a(){axios.post(`${_url}/login`,{email:e.value,password:n.value}).then(function(t){t.data.user.role=="admin"?Toast.fire({icon:"success",title:"登入成功"}).then(r=>{localStorage.setItem("adminToken",t.data.accessToken),localStorage.setItem("adminId",t.data.user.id),window.location.href="admin-products.html"}):Toast.fire({icon:"error",title:"登入失敗"})}).catch(function(t){console.log(t),Toast.fire({icon:"error",title:"登入失敗"})})}o.addEventListener("click",function(t){if(t.preventDefault(),!(e.value&&n.value)){Toast.fire({icon:"warning",title:"欄位未填"});return}a()});
