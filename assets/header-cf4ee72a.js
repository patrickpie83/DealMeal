const l=document.querySelector(".memberWelcome"),d=document.querySelector(".memberBtn"),a=document.querySelector(".memberCart"),n=document.querySelector(".burgerBtn"),o=document.querySelector(".cartAlertBurgerBadge"),s=document.querySelector(".cartAlertBadge");let r;const m="https://dealmealserver.onrender.com",i=Swal.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:1200,timerProgressBar:!1,didOpen:e=>{e.onmouseenter=Swal.stopTimer,e.onmouseleave=Swal.resumeTimer}});u();function u(){r=localStorage.getItem("userId"),r?(a.classList.remove("d-none"),g(r)):a.classList.add("d-none")}function g(e){axios.get(`${m}/users/${e}`).then(function(t){const c=t.data.name;l.innerHTML=`<p class="text-normal-brown">${c}，歡迎回來</p>`,t.data.cartExist?(o.classList.remove("d-none"),s.classList.remove("d-none"),n.classList.add("alertBadgeBackground"),a.classList.add("alertBadgeBackground"),o.classList.add("alertBadge"),s.classList.add("alertBadge")):(n.classList.remove("alertBadgeBackground"),a.classList.remove("alertBadgeBackground"),o.classList.remove("alertBadge"),s.classList.remove("alertBadge"))}).catch(function(t){console.log(t),i.fire({icon:"error",title:"會員帳號有問題，請聯絡官方"})})}d.addEventListener("click",function(e){e.preventDefault(),r?window.location.href="member.html":window.location.href="login.html"});
