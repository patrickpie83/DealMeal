import"./bootstrap.min-9e46bc63.js";import"./header-fe8da8f2.js";const m=document.querySelector("#signUpName"),g=document.querySelector("#signUpAddress"),U=document.querySelector("#signUpEmail"),f=document.querySelector("#signUpPassword"),y=document.querySelector(".signUpBtn"),t=document.querySelector(".signUpForm"),w=document.querySelector(".signUpNameContent"),E=document.querySelector(".signUpAddressContent"),v=document.querySelector(".signUpEmailContent"),C=document.querySelector(".signUpPasswordContent"),a=document.querySelector("#loginEmail"),l=document.querySelector("#loginPassword"),S=document.querySelector(".loginBtn"),c="http://localhost:3000";function q(){let e=crypto.randomUUID();axios.post(`${c}/users`,{id:e,name:m.value,address:g.value,email:U.value,password:f.value}).then(function(n){alert("註冊成功"),window.location.href="login.html"}).catch(function(n){console.log(n)})}y.addEventListener("click",function(e){e.preventDefault();const n={用戶名稱:{presence:{allowEmpty:!1,message:"是必填欄位"},format:{pattern:/^[^\s]+([^\s]+)*$/,message:"不可含有空白符號"}}},d={配送地址:{presence:{allowEmpty:!1,message:"是必填欄位"}}},p={電子信箱:{presence:{allowEmpty:!1,message:"是必填欄位"}}},u={密碼:{presence:{allowEmpty:!1,message:"是必填欄位"}}},s=validate(t,n),o=validate(t,d),r=validate(t,p),i=validate(t,u);w.textContent=s?`${s.用戶名稱}`:"",E.textContent=o?`${o.配送地址}`:"",v.textContent=r?`${r.電子信箱}`:"",C.textContent=i?`${i.密碼}`:"",s||o||r||i||q()});function h(){axios.post(`${c}/login`,{email:a.value,password:l.value}).then(function(e){alert("登入成功"),window.location.href="index.html"}).catch(function(e){console.log(e),alert("登入失敗")})}S.addEventListener("click",function(e){if(e.preventDefault(),!(a.value&&l.value)){alert("欄位未填");return}h()});
